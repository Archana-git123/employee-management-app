{"version":3,"file":"field-documentation.js","sources":["../../src/components/field-documentation.tsx"],"sourcesContent":["import type { GraphQLArgument } from 'graphql';\nimport { FC, useState } from 'react';\nimport { Button, MarkdownContent } from '@graphiql/react';\nimport type { DocExplorerFieldDef } from '../context';\nimport { Argument } from './argument';\nimport { DeprecationReason } from './deprecation-reason';\nimport { Directive } from './directive';\nimport { ExplorerSection } from './section';\nimport { TypeLink } from './type-link';\n\ntype FieldDocumentationProps = {\n  /**\n   * The field or argument that should be rendered.\n   */\n  field: DocExplorerFieldDef;\n};\n\nexport const FieldDocumentation: FC<FieldDocumentationProps> = ({ field }) => {\n  return (\n    <>\n      {field.description ? (\n        <MarkdownContent type=\"description\">\n          {field.description}\n        </MarkdownContent>\n      ) : null}\n      <DeprecationReason preview={false}>\n        {field.deprecationReason}\n      </DeprecationReason>\n      <ExplorerSection title=\"Type\">\n        <TypeLink type={field.type} />\n      </ExplorerSection>\n      <Arguments field={field} />\n      <Directives field={field} />\n    </>\n  );\n};\n\nconst Arguments: FC<{ field: DocExplorerFieldDef }> = ({ field }) => {\n  const [showDeprecated, setShowDeprecated] = useState(false);\n  const handleShowDeprecated = () => {\n    setShowDeprecated(true);\n  };\n\n  if (!('args' in field)) {\n    return null;\n  }\n\n  const args: GraphQLArgument[] = [];\n  const deprecatedArgs: GraphQLArgument[] = [];\n  for (const argument of field.args) {\n    if (argument.deprecationReason) {\n      deprecatedArgs.push(argument);\n    } else {\n      args.push(argument);\n    }\n  }\n\n  return (\n    <>\n      {args.length > 0 ? (\n        <ExplorerSection title=\"Arguments\">\n          {args.map(arg => (\n            <Argument key={arg.name} arg={arg} />\n          ))}\n        </ExplorerSection>\n      ) : null}\n      {deprecatedArgs.length > 0 ? (\n        showDeprecated || args.length === 0 ? (\n          <ExplorerSection title=\"Deprecated Arguments\">\n            {deprecatedArgs.map(arg => (\n              <Argument key={arg.name} arg={arg} />\n            ))}\n          </ExplorerSection>\n        ) : (\n          <Button type=\"button\" onClick={handleShowDeprecated}>\n            Show Deprecated Arguments\n          </Button>\n        )\n      ) : null}\n    </>\n  );\n};\n\nconst Directives: FC<{ field: DocExplorerFieldDef }> = ({ field }) => {\n  const directives = field.astNode?.directives;\n  if (!directives?.length) {\n    return null;\n  }\n  return (\n    <ExplorerSection title=\"Directives\">\n      {directives.map(directive => (\n        <div key={directive.name.value}>\n          <Directive directive={directive} />\n        </div>\n      ))}\n    </ExplorerSection>\n  );\n};\n"],"names":["FieldDocumentation","t0","$","_c","field","t1","description","t2","deprecationReason","t3","type","t4","t5","t6","Arguments","showDeprecated","setShowDeprecated","useState","Symbol","for","handleShowDeprecated","args","deprecatedArgs","argument","push","length","map","_temp","_temp2","Directives","directives","astNode","_temp3","arg","name","arg_0","directive","value"],"mappings":"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"}