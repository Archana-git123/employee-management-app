{"version":3,"file":"index.js","sources":["../../../src/components/toolbar-button/index.tsx"],"sourcesContent":["import {\n  forwardRef,\n  MouseEventHandler,\n  useState,\n  ComponentPropsWithoutRef,\n} from 'react';\nimport { cn } from '../../utility';\nimport { Tooltip } from '../tooltip';\nimport { UnStyledButton } from '../button';\nimport './index.css';\n\ninterface ToolbarButtonProps extends ComponentPropsWithoutRef<'button'> {\n  label: string;\n}\n\nexport const ToolbarButton = forwardRef<HTMLButtonElement, ToolbarButtonProps>(\n  ({ label, onClick, ...props }, ref) => {\n    const [error, setError] = useState<Error | null>(null);\n    const handleClick: MouseEventHandler<HTMLButtonElement> = event => {\n      try {\n        // Optional chaining inside try-catch isn't supported yet by react-compiler\n        if (onClick) {\n          onClick(event);\n        }\n        setError(null);\n      } catch (err) {\n        setError(\n          err instanceof Error\n            ? err\n            : new Error(`Toolbar button click failed: ${err}`),\n        );\n      }\n    };\n\n    return (\n      <Tooltip label={label}>\n        <UnStyledButton\n          {...props}\n          ref={ref}\n          type=\"button\"\n          className={cn(\n            'graphiql-toolbar-button',\n            error && 'error',\n            props.className,\n          )}\n          onClick={handleClick}\n          aria-label={error ? error.message : label}\n          aria-invalid={error ? 'true' : props['aria-invalid']}\n        />\n      </Tooltip>\n    );\n  },\n);\nToolbarButton.displayName = 'ToolbarButton';\n"],"names":["ToolbarButton","forwardRef","t0","ref","$","_c","label","onClick","props","error","setError","useState","t1","event","t2","err","Error","handleClick","t3","className","cn","t4","message","t5","t6","t7","displayName"],"mappings":";;;;;;;AAeO,MAAMA,gBAAgBC,WAC3B,CAAAC,IAAAC,QAAA;AAAAC,QAAAA,IAAAC,EAAA,EAAA;AAAAC,MAAAA;AAAAC,MAAAA;AAAAC,MAAAA;AAAAJ,MAAAA,SAAAF,IAAA;AAAC,KAAA;AAAA,MAAAI;AAAAA,MAAAC;AAAAA,MAAA,GAAAC;AAAAA,IAAAA,IAAAN;AAA4BE,WAAAF;AAAAE,WAAAE;AAAAF,WAAAG;AAAAH,WAAAI;AAAAA,EAAAA,OAAA;AAAAF,YAAAF,EAAA,CAAA;AAAAG,cAAAH,EAAA,CAAA;AAAAI,YAAAJ,EAAA,CAAA;AAAA,EAAA;AAC3B,QAAA,CAAAK,OAAAC,QAAA,IAA0BC,aAA2B;AAAEC,MAAAA;AAAAR,MAAAA,SAAAG,SAAA;AACGK,SAAAC,CAAA,UAAA;AAAA,UAAA;AAAA,YAGlDN,SAAO;AACTA,kBAAQM,KAAK;AAAA,QAAA;AAEfH,qBAAa;AAAA,eAACI,KAAA;AACPC,cAAAA,MAAAA;AAELA,iBAAAA,eAAGC,QACCD,MAAGC,IAAAA,MACO,gCAAgCD,GAAG,EAAE,CACrD;AAAA,MAAA;AAAA,IAAC;AAEJX,WAAAG;AAAAH,WAAAQ;AAAAA,EAAAA,OAAA;AAAAA,SAAAR,EAAA,CAAA;AAAA,EAAA;AAdD,QAAAa,cAA0DL;AAwBlD,QAAAE,KAAAL,SAAS;AAAOS,MAAAA;AAAAd,MAAAA,SAAAI,MAAAW,aAAAf,SAAAU,IAAA;AAFPI,SAAAE,KACT,2BACAN,IACAN,MAAKW,SACP;AAAC,MAAA,CAAA,IAAAX,MAAAW;AAAAf,WAAAU;AAAAV,WAAAc;AAAAA,EAAAA,OAAA;AAAAA,SAAAd,EAAA,CAAA;AAAA,EAAA;AAEWiB,QAAAA,KAAAZ,QAAQA,MAAKa,UAAWhB;AACtB,QAAAiB,KAAAd,QAAQ,SAASD,MAAM,cAAc;AAACgB,MAAAA;AAAApB,MAAAA,SAAAa,eAAAb,EAAAI,EAAAA,MAAAA,SAAAJ,EAAAD,EAAAA,MAAAA,OAAAC,EAAA,EAAA,MAAAc,MAAAd,UAAAiB,MAAAjB,EAAA,EAAA,MAAAmB,IAAA;AAXtDC,SAAC,oBAAA,gBAAA,EAAc,GACThB,OACCL,KACA,MAAA,UACM,WAAAe,IAKFD,SAAAA,aACG,cAAAI,IACE,gBAAAE,IACd;AAAAnB,WAAAa;AAAAb,YAAAI;AAAAJ,YAAAD;AAAAC,YAAAc;AAAAd,YAAAiB;AAAAjB,YAAAmB;AAAAnB,YAAAoB;AAAAA,EAAAA,OAAA;AAAAA,SAAApB,EAAA,EAAA;AAAA,EAAA;AAAAqB,MAAAA;AAAA,MAAArB,EAAAE,EAAAA,MAAAA,SAAAF,UAAAoB,IAAA;AAbH,SAAA,oBAAA,SAAelB,EAAAA,OACdkB,UAaF,IAAA;AAAUpB,YAAAE;AAAAF,YAAAoB;AAAApB,YAAAqB;AAAAA,EAAAA,OAAA;AAAAA,SAAArB,EAAA,EAAA;AAAA,EAAA;AAdVqB,SAAAA;AAcU,CAGhB;AACAzB,cAAc0B,cAAc;"}