{"version":3,"file":"constants.js","sources":["../src/constants.ts"],"sourcesContent":["/* eslint-disable no-bitwise */\nimport type { DiagnosticSettings } from 'monaco-graphql';\nimport type * as monaco from 'monaco-editor';\nimport { KeyCode, KeyMod } from './utility';\nimport type { EditorSlice } from './stores';\n\nexport const isMacOs =\n  typeof navigator !== 'undefined' && navigator.userAgent.includes('Mac');\n\nexport function formatShortcutForOS(key: string, replaced = '⌘') {\n  return isMacOs ? key.replace('Ctrl', replaced) : key;\n}\n\nexport const KEY_MAP = Object.freeze({\n  prettify: {\n    key: 'Shift-Ctrl-P',\n    keybindings: [KeyMod.Shift | KeyMod.WinCtrl | KeyCode.KeyP],\n  },\n  mergeFragments: {\n    key: 'Shift-Ctrl-M',\n    keybindings: [KeyMod.Shift | KeyMod.WinCtrl | KeyCode.KeyM],\n  },\n  runQuery: {\n    key: 'Ctrl-Enter',\n    keybindings: [KeyMod.CtrlCmd | KeyCode.Enter],\n  },\n  autoComplete: {\n    key: 'Space',\n  },\n  copyQuery: {\n    key: 'Shift-Ctrl-C',\n    keybindings: [KeyMod.Shift | KeyMod.WinCtrl | KeyCode.KeyC],\n  },\n  refetchSchema: {\n    key: 'Shift-Ctrl-R',\n  },\n  searchInEditor: {\n    key: 'Ctrl-F',\n  },\n  searchInDocs: {\n    key: 'Ctrl-Alt-K',\n  },\n});\n\nexport const STORAGE_KEY = {\n  headers: 'headers',\n  visiblePlugin: 'visiblePlugin',\n  query: 'query',\n  variables: 'variables',\n  tabs: 'tabState',\n  persistHeaders: 'shouldPersistHeaders',\n  theme: 'theme',\n} as const;\n\nexport const DEFAULT_QUERY = `# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and testing\n# GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that start\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#   Prettify query:  ${KEY_MAP.prettify.key} (or press the prettify button)\n#\n#  Merge fragments:  ${KEY_MAP.mergeFragments.key} (or press the merge button)\n#\n#        Run Query:  ${formatShortcutForOS(KEY_MAP.runQuery.key, 'Cmd')} (or press the play button)\n#\n#    Auto Complete:  ${KEY_MAP.autoComplete.key} (or just start typing)\n#\n\n`;\n\nexport const KEY_BINDINGS = {\n  prettify: {\n    id: 'graphql-prettify',\n    label: 'Prettify Editors',\n    contextMenuGroupId: 'graphql',\n    keybindings: KEY_MAP.prettify.keybindings,\n  },\n  mergeFragments: {\n    id: 'graphql-merge',\n    label: 'Merge Fragments into Query',\n    contextMenuGroupId: 'graphql',\n    keybindings: KEY_MAP.mergeFragments.keybindings,\n  },\n  runQuery: {\n    id: 'graphql-run',\n    label: 'Run Operation',\n    contextMenuGroupId: 'graphql',\n    keybindings: KEY_MAP.runQuery.keybindings,\n  },\n  copyQuery: {\n    id: 'graphql-copy',\n    label: 'Copy Query',\n    contextMenuGroupId: 'graphql',\n    keybindings: KEY_MAP.copyQuery.keybindings,\n  },\n} as const;\n\nexport const URI_NAME = {\n  operation: 'operation.graphql',\n  schema: 'schema.graphql',\n\n  variables: 'variables.json',\n  requestHeaders: 'request-headers.json',\n  response: 'response.json',\n} as const;\n\n// set these early on so that initial variables with comments don't flash an error\nexport const JSON_DIAGNOSTIC_OPTIONS: monaco.languages.json.DiagnosticsOptions =\n  {\n    // Fixes Comments are not permitted in JSON.(521)\n    allowComments: true,\n    // Fixes Trailing comma json(519)\n    trailingCommas: 'ignore',\n  };\n\nexport const MONACO_GRAPHQL_DIAGNOSTIC_SETTINGS: DiagnosticSettings = {\n  validateVariablesJSON: {},\n  jsonDiagnosticSettings: {\n    validate: true,\n    schemaValidation: 'error',\n    // Set these again, because we are entirely re-setting them here\n    ...JSON_DIAGNOSTIC_OPTIONS,\n  },\n};\n\nexport const DEFAULT_PRETTIFY_QUERY: EditorSlice['onPrettifyQuery'] =\n  async query => {\n    // We don't need to load Prettier initially; it's only used when the 'Format Query' button or shortcut is triggered\n    const [\n      prettier,\n      // @ts-expect-error – no types\n      { printers },\n      { parsers },\n    ] = await Promise.all([\n      import('prettier/standalone'),\n      import('prettier/plugins/graphql'),\n      import('prettier/parser-graphql'),\n    ]);\n\n    return prettier.format(query, {\n      parser: 'graphql',\n      plugins: [\n        // Fix: Couldn't find plugin for AST format \"graphql\"\n        { printers },\n        // @ts-expect-error -- Fix: Couldn't resolve parser \"graphql\"\n        { parsers },\n      ],\n    });\n  };\n\nexport const MONACO_THEME_NAME = {\n  dark: 'graphiql-DARK',\n  light: 'graphiql-LIGHT',\n} as const;\n\nconst colors = {\n  transparent: '#ffffff00',\n  bg: {\n    dark: '#212a3b',\n    light: '#ffffffff',\n  },\n  primary: {\n    dark: '#ff5794',\n    light: '#d60590',\n  },\n  primaryBg: {\n    dark: '#ff579419',\n    light: '#d6059019',\n  },\n  secondary: {\n    dark: '#b7c2d711',\n    light: '#3b4b6811',\n  },\n};\n\nconst getBaseColors = (\n  theme: 'dark' | 'light',\n): monaco.editor.IStandaloneThemeData['colors'] => ({\n  'editor.background': colors.transparent, // white with a 00 alpha value\n  'scrollbar.shadow': colors.transparent, // Scrollbar shadow to indicate that the view is scrolled\n  'textLink.foreground': colors.primary[theme], // Foreground color for links in text\n  'textLink.activeForeground': colors.primary[theme], // Foreground color for active links in text\n  'editorLink.activeForeground': colors.primary[theme], // Color of active links\n  'editorHoverWidget.background': colors.bg[theme], // Background color of the editor hover\n  'list.hoverBackground': colors.primaryBg[theme], // List/Tree background when hovering over items using the mouse\n  'list.highlightForeground': colors.primary[theme],\n  'list.focusHighlightForeground': colors.primary[theme],\n  'menu.background': colors.bg[theme], // Background color of the context menu\n\n  'editorSuggestWidget.background': colors.bg[theme], // Background color of the suggest widget\n  'editorSuggestWidget.selectedBackground': colors.primaryBg[theme], // Background color of the selected entry in the suggest widget\n  'editorSuggestWidget.selectedForeground': colors.primary[theme], // Foreground color of the selected entry in the suggest widget\n  'quickInput.background': colors.bg[theme],\n  'quickInputList.focusForeground': theme === 'dark' ? '#ffffff' : '#444444',\n  'highlighted.label': colors.primary[theme],\n  'quickInput.widget': colors.primary[theme],\n  highlight: colors.primary[theme],\n  'editorWidget.background': colors.bg[theme], // Background color of editor widgets, such as find/replace\n  'input.background': colors.secondary[theme], // Input box background\n  focusBorder: colors.primary[theme], // Overall border color for focused elements. This color is only used if not overridden by a component\n  'toolbar.hoverBackground': colors.primaryBg[theme],\n  'inputOption.hoverBackground': colors.primaryBg[theme],\n  'quickInputList.focusBackground': colors.primaryBg[theme],\n  'editorWidget.resizeBorder': colors.primary[theme],\n  'pickerGroup.foreground': colors.primary[theme], // Quick picker color for grouping labels\n\n  'menu.selectionBackground': colors.primaryBg[theme], // hover background\n  'menu.selectionForeground': colors.primary[theme], // hover text color\n});\n\nexport const MONACO_THEME_DATA: Record<\n  'dark' | 'light',\n  monaco.editor.IStandaloneThemeData\n> = {\n  dark: {\n    base: 'vs-dark',\n    inherit: true,\n    colors: getBaseColors('dark'),\n    rules: [\n      {\n        token: 'argument.identifier.gql',\n        foreground: '#908aff',\n      },\n    ],\n  },\n  light: {\n    base: 'vs',\n    inherit: true,\n    colors: getBaseColors('light'),\n    rules: [\n      {\n        token: 'argument.identifier.gql',\n        foreground: '#6c69ce',\n      },\n    ],\n  },\n};\n"],"names":["isMacOs","navigator","userAgent","includes","formatShortcutForOS","key","replaced","replace","KEY_MAP","Object","freeze","prettify","keybindings","KeyMod","Shift","WinCtrl","KeyCode","KeyP","mergeFragments","KeyM","runQuery","CtrlCmd","Enter","autoComplete","copyQuery","KeyC","refetchSchema","searchInEditor","searchInDocs","STORAGE_KEY","headers","visiblePlugin","query","variables","tabs","persistHeaders","theme","DEFAULT_QUERY","KEY_BINDINGS","id","label","contextMenuGroupId","URI_NAME","operation","schema","requestHeaders","response","JSON_DIAGNOSTIC_OPTIONS","allowComments","trailingCommas","MONACO_GRAPHQL_DIAGNOSTIC_SETTINGS","validateVariablesJSON","jsonDiagnosticSettings","validate","schemaValidation","DEFAULT_PRETTIFY_QUERY","prettier","printers","parsers","Promise","all","format","parser","plugins","MONACO_THEME_NAME","dark","light","colors","transparent","bg","primary","primaryBg","secondary","getBaseColors","highlight","focusBorder","MONACO_THEME_DATA","base","inherit","rules","token","foreground"],"mappings":"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"}